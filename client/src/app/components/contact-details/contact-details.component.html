<div class="w-full flex justify-center pt-10">
    <form class="p-3 w-3/5 max-w-lg" [formGroup]="contactForm" (ngSubmit)="onSubmit()">
        <div class="w-full flex flex-col justify-start items-start">
            <mat-form-field class="w-full">
                <mat-label for="name">Name: </mat-label>
                <input matInput id="name" type="text" formControlName="name">
                @if (contactForm.controls.name.hasError('required')) {
                <mat-error>Name is <strong>required</strong></mat-error>
                }
            </mat-form-field>
            <mat-form-field class="w-full">
                <mat-label for="phone">Phone: </mat-label>
                <input matInput id="phone" type="text" formControlName="phone">
                @if (contactForm.controls.phone.hasError('pattern') && !contactForm.controls.phone.hasError('reqired')) {
                <mat-error>Please enter a valid phone number</mat-error>
                }
                @if (contactForm.controls.phone.hasError('required')) {
                <mat-error>Phone number is <strong>required</strong></mat-error>
                }
            </mat-form-field>
            <mat-form-field class="w-full">
                <mat-label for="email">Email: </mat-label>
                <input matInput id="email" type="text" formControlName="email">
                @if (contactForm.controls.email.hasError('email')) {
                <mat-error>Please enter a valid email address</mat-error>
                }
            </mat-form-field>
        </div>
        <div class="w-full flex flex-col justify-start items-start" formGroupName="address">
            <h2>Address:</h2>
            <div class="w-full flex justify-between items-center gap-2">
                <mat-form-field class="flex-1">
                    <mat-label for="street">Street: </mat-label>
                    <input matInput id="street" type="text" formControlName="street">
                </mat-form-field>
                <mat-form-field class="flex-1">
                    <mat-label for="city">City: </mat-label>
                    <input matInput id="city" type="text" formControlName="city">
                </mat-form-field>
            </div>
            <div class="w-full flex justify-between items-center gap-2">
                <mat-form-field class="flex-1">
                    <mat-label for="state">State: </mat-label>
                    <input matInput id="state" type="text" formControlName="state">
                </mat-form-field>
                <mat-form-field class="flex-1">
                    <mat-label for="zip">Zip Code: </mat-label>
                    <input matInput id="zip" type="text" formControlName="zip">
                    @if (contactForm.controls.address.controls.zip.hasError('pattern')) {
                    <mat-error>Please enter a valid zip code</mat-error>
                    }
                </mat-form-field>
            </div>
        </div>
        <div class="flex justify-center">
            <button class="w-36" mat-flat-button type="submit" [disabled]="!contactForm.valid || (loadingStatus | async)">
                {{showAddButton ?'Add': 'Edit'}}
            </button>
        </div>
    </form>
</div>